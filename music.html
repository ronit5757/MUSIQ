<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MUSICPLAYER</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body> 
    <!-- <img src="images/blackk.jpeg" alt="starss" id="bgimg"> -->
    <video loop id="bgan" muted >
        <source src="images/songbg.mp4" type="video/mp4" />
    </video>

    <div class="main_div">
        <!-- <div class="nav"></div> -->
        <div class="music_container">
            <div class="nav">MUSIQ PLAYER</div>
            <h2 id="title">dil ton black</h2>
            <h3 id="artist">Jassie Gill x Jaani</h3>
            <div class="img_container">
                <img src="images/song1.jpg" alt="lancer"  >
            </div>
            <audio src="songs/song1.mp3"></audio>
            
            <!-- <div class="slider_container">
                <div class="current-time">00:00</div>
                <input type="range" min="1" max="100" value="0" class="seek_slider" onchange="seekto()">
                <div class="total-duration">00:00</div>
            </div> 
              -->

              <div class="animatedLines">
                <div class="lines"></div>
                <div class="lines"></div>
                <div class="lines"></div>
                <div class="lines"></div>
                <div class="lines"></div>
                <div class="lines"></div>
                <div class="lines"></div>
                <div class="lines"></div>
             </div>
            <div class="music_controls">
            <i class="fas fa-solid fa-backward-step" id="prev" title="Prev"></i>
            <i class="fas fa-solid fa-play main_button"  id="play" title="Play"></i>
            <i class="fas fa-solid fa-forward-step" id="next" title="next"></i>
        </div> 
        </div>
    </div>
    <script>
        const img = document.querySelector('img');
        const music = document.querySelector('audio');
        const play = document.getElementById('play');
        const artist = document.getElementById('artist');
        const title = document.getElementById('title');
        const prev = document.getElementById('prev');
        const next = document.getElementById('next');
        var video = document.getElementById('bgan');
        var lines = document.getElementsByClassName('animatedLines');
        const songs = [
            {
                name : "song1",
                title : "dil ton black",
                artist : "jassi gill x jaani ",
            },
            {
                name : "song2",
                title : "7 raniyan",
                artist : "shree brar",
            },
            {
                name : "song3",
                title : "closer",
                artist : 'the chainsmokers',
            },
            {
                name : "song4",
                title : "thunder",
                artist : "imagine dragons",
            },
        ];

        // ******************
        let isplaying = false;
        const playmusic = ()=>{
            isplaying = true;
            music.play();
            play.classList.replace('fa-play', 'fa-pause');
            img.classList.add('anime');
            video.play();
        };

        const pausemusic = ()=>{
            isplaying = false;
            music.pause();
            play.classList.replace('fa-pause', 'fa-play');
            img.classList.remove('anime');
            video.pause();
        };

        play.addEventListener('click' , () =>{
            if(isplaying)
            {
                pausemusic();
            }
            else{
                playmusic();
            }
        });
        // *****************

        const loadsong = (songs) =>{
            title.textContent = songs.title;
            artist.textContent = songs.artist;
            music.src = "songs/"+songs.name+".mp3";
            img.src = "images/"+songs.name+".jpg";
            
        }

        let songindex = 0;
        const nextsong = () =>{
            songindex = (songindex+1)%songs.length;
            loadsong(songs[songindex]);
            if(isplaying)
            {
                playmusic();
                video.currentTime = 0;
                video.load();
                video.play();
            }
            else{
                pausemusic();
                video.pause();
                video.currentTime = 0;
            }
        }

        const prevsong = () =>{
            
            songindex = (songindex-1 +songs.length)%songs.length;
            loadsong(songs[songindex]);
            if(isplaying)
            {
                playmusic();
                video.currentTime = 0;
                video.load();
                video.play();
            }
            else{
                pausemusic();
                video.pause();
                video.currentTime = 0;
            }
        }
        // **********************
        
        next.addEventListener('click', nextsong);
        prev.addEventListener('click', prevsong);
    </script>
</body>
</html>
<!-- <i class="fa-thin fa-angles-left"></i> -->
<!-- <i class="fa-solid fa-backward-step"></i> -->
<!-- <i class="fa-light fa-backward-step"></i> -->